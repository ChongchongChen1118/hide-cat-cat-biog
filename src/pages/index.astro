---
import BaseLayout from "../layouts/BaseLayout.astro";
import PostCard from "../components/PostCard.astro";
import { getCollection } from "astro:content";

const all = await getCollection("posts", (p) => !p.data.draft);
const posts = all.sort((a,b) => (a.data.date < b.data.date ? 1 : -1)).slice(0, 6);

// ä½ çš„å¤´åƒï¼ˆç½‘ç»œåœ°å€ï¼Œæ¢æˆä½ è‡ªå·±çš„ï¼‰
const avatarUrl = "https://helloliujia.oss-cn-beijing.aliyuncs.com/f31adae62467d4b9178ff285ef3c7f87.jpg";

// å³ä¾§ä¿¡æ¯å—ï¼ˆä½ éšä¾¿æ”¹æ–‡æ¡ˆï¼‰
const meta = [
  { k: "Location", v: "Macau / Master" },
  { k: "Status", v: "Touch ğŸŸï¸" },
  { k: "Study", v: "Medical AI" },
];
---
<BaseLayout title="è€é“ï¼Œæ¥äº†å¥¥" description="Hide-Cat-Cat ä¸ªäººåšå®¢">
  <section class="hero card">
    <!-- Left -->
    <div class="hero-left">
      <div class="badge">åœæ­¢ç§æ—ç­ç»ï¼Œè‡ªç”±å·´å‹’æ–¯å¦ï¼&nbspStop the genocide, Free Palestine!</div>
      <h1 style="margin-top:12px;">Hide-Cat-CatğŸ±</h1>
      <p>è®°å½•æ— èŠä¸”æœ‰è¶£ä¸”æ— èŠä¸”æœ‰è¶£ä¸”æ— èŠçš„ç”Ÿæ´»ï¼Ÿï¼Ÿï¼Ÿ</p>

      <div class="hero-actions">
        <a class="badge" href="/blog">æ¢¦åˆ°å•¥å†™å•¥</a>
        <a class="badge" href="/about">å…³äºæˆ‘æ˜¯å¸…é€¼è¿™ä»¶äº‹</a>
        <a class="badge" href="/friends">æˆ‘çš„æœ‹å‹ä»¬mua</a>
      </div>

      <div class="hero-note small">
        <span class="dot"></span>
        <span>æ›´æ–°èŠ‚å¥ï¼šéšç¼˜ä½†æŒç»­ï¼›</span>
      </div>
    </div>

    <!-- Right -->
    <div class="hero-right">
      <div class="profile">
        <div class="profile-top">
          <img class="avatar" src={avatarUrl} alt="avatar" loading="lazy" />
          <div class="profile-text">
            <div class="profile-name">Liam</div>
            <div class="profile-sub small">æ•²ä»£ç  / å†™è®ºæ–‡ / èµšå°ç±³</div>
          </div>
        </div>

        <div class="meta">
          {meta.map((m) => (
            <div class="meta-item">
              <div class="meta-k">{m.k}</div>
              <div class="meta-v">{m.v}</div>
            </div>
          ))}
        </div>

        <div class="profile-links">
          <a class="badge" href="/now">åˆ‡å…‹NOW</a>
          <a class="badge" href="/search">æœæœå—–å—–</a>
        </div>
      </div>
    </div>
  </section>

  <hr />

  <h2>æœ€æ–°æ–‡ç« </h2>
  <div class="grid grid-2">
    {posts.map((post) => <PostCard post={post} />)}
  </div>

  <!-- page-only styles (ä¸æ±¡æŸ“å…¶ä»–é¡µé¢) -->
  <style>
    .hero{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap:18px;
      align-items: stretch;
    }
    @media (max-width: 860px){
      .hero{ grid-template-columns: 1fr; }
    }

    .hero-left{
      display:flex;
      flex-direction:column;
      justify-content:center;
      min-height: 220px;
    }
    .hero-actions{
      margin-top:12px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
    }

    .hero-note{
      margin-top:14px;
      display:flex;
      gap:10px;
      align-items:center;
      color: rgba(230,237,243,.70);
    }
    .dot{
      width:8px;height:8px;border-radius:99px;
      background: rgba(125,211,252,.9);
      box-shadow: 0 0 20px rgba(125,211,252,.35);
      flex: 0 0 auto;
    }

    .hero-right{
      display:flex;
      align-items:stretch;
    }

    .profile{
      width:100%;
      border-radius: var(--radius);
      border: 1px solid rgba(255,255,255,.12);
      background: linear-gradient(180deg, rgba(15,23,35,.72), rgba(15,23,35,.92));
      box-shadow: 0 18px 60px rgba(0,0,0,.55);
      backdrop-filter: blur(10px);
      padding:16px;
      position: relative;
      overflow:hidden;
      isolation: isolate;
      animation: floaty 6s ease-in-out infinite;
    }

    /* subtle neon edge */
    .profile::before{
      content:"";
      position:absolute;
      inset:-2px;
      border-radius: inherit;
      background: linear-gradient(
        90deg,
        rgba(125,211,252,.0),
        rgba(125,211,252,.40),
        rgba(167,139,250,.35),
        rgba(34,211,238,.30),
        rgba(125,211,252,.0)
      );
      opacity:.65;
      filter: blur(10px);
      z-index:-1;
    }

    .profile-top{
      display:flex;
      gap:14px;
      align-items:center;
    }
    .avatar{
      width:64px;height:64px;
      border-radius: 18px;
      object-fit: cover;
      border: 1px solid rgba(255,255,255,.14);
      box-shadow: 0 10px 40px rgba(0,0,0,.40);
    }
    .profile-name{
      font-weight:700;
      letter-spacing: .01em;
    }
    .profile-sub{
      color: rgba(230,237,243,.70);
      margin-top:4px;
    }

    .meta{
      margin-top:14px;
      display:grid;
      grid-template-columns: 1fr;
      gap:10px;
    }
    .meta-item{
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
      border-radius: 14px;
      padding:10px 12px;
    }
    .meta-k{
      font-size:12px;
      color: rgba(230,237,243,.62);
      margin-bottom:2px;
    }
    .meta-v{
      font-size:14px;
      color: rgba(230,237,243,.88);
    }

    .profile-links{
      margin-top:14px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
    }

    @keyframes floaty{
      0% { transform: translateY(0); }
      50% { transform: translateY(-4px); }
      100% { transform: translateY(0); }
    }

    @media (prefers-reduced-motion: reduce){
      .profile{ animation:none; }
    }
  </style>
</BaseLayout>
